---
description: 
globs: 
alwaysApply: true
---
Use [plan.md](mdc:plan.md) as your guide on what to do. Follow this plan from step by step, mark the step as finished when you are done with it and push to git origin.
Use test driven design!

## When write code and modify files
 
### All languages
 
- In code, write comments ONLY in English.
- Write comments ONLY if it is neccessary, in confusing places and difficult logic!
- Don't use docstring for methods and files!. It is better to name the method so that it is easy to understand its meaning from its name. But if the method is complex you can use docstring.
- Follow core software development principles:
  - TDD (Test-Driven Development): Write tests first, then implement the functionality
  - DRY (Don't Repeat Yourself): Avoid code duplication, extract reusable components
  - KISS (Keep It Simple, Stupid): Choose simple solutions over complex ones
  - YAGNI (You Aren't Gonna Need It): Don't implement functionality until it's necessary
  - SOLID
  - Clean Architecture
 
### When writing in Python:
 
- Use Python with strict types for each variable 
- Write down types of function results like `-> ...`
- Use Pydantic models for data structures instead of TypedDict or other solutions
- Try to avoid type `Any`
- Do not use `@staticmethod`
- Use pytest for tests. Use `f_` prefix for fixtures and `m_` prefix for mocks.
 
### When writing in other languages:
 
- Use strict types.
- Use clean functions. No hidden changes. No in-place changes.
- Follow all linter rules.
- Follow best practices.
 
## Libraries
 
- I install all Python packages in a virtual environment in the repo. Not to the whole system.
- Don't hesitate to read library's source code instead of googling (use terminal commands like `pip show`, `code $(pip show package | grep Location)` to find and explore the code)
 
## Terminal
 
- Start all terminal commands with the `pwd` command as a separate call to be sure where you are. 
- If the task is in any way related to the current date, for example, if you need to specify the current date in a filename or something else, then please execute the `date` command in the terminal to find out the current date first, and only then proceed with the task.